{"version":3,"sources":["components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Layout/Header.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/Meals/AvailableMeals.module.css","components/Meals/MealsSummary.module.css","store/cart-context.js","store/GlobalContext.js","components/UI/Modal.jsx","components/Cart/CartItem.jsx","components/Cart/Checkout.jsx","components/Cart/Cart.jsx","assets/meals.jpg","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.jsx","components/Layout/Header.jsx","components/UI/Card.jsx","components/UI/Input.jsx","components/Meals/MealItem/MealItemForm.jsx","components/Meals/MealItem/MealItem.jsx","components/Meals/AvailableMeals.jsx","components/Meals/MealsSummary.jsx","components/Meals/Meals.jsx","store/CartProvider.jsx","App.js","index.js"],"names":["module","exports","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","GlobalContext","showCart","hideCart","Backdrop","props","className","classes","backdrop","onClick","onClose","ModalOverlay","modal","children","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","price","toFixed","name","summary","amount","actions","onRemove","onAdd","Checkout","onSubmit","event","preventDefault","control","htmlFor","type","onCancel","Cart","ctx","useContext","cartCtx","cartItemRemoveHandler","cartItemAddHandler","cartItems","map","bind","hasItems","length","useState","showCheckout","setShowCheckout","total","button","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","btnIsHighlighted","setBtnIsHighlighted","numberOfItems","reduce","finalVal","btnClasses","bump","useEffect","timer","setTimeout","clearTimeout","badge","Header","header","src","mealsImage","alt","Card","card","Input","forwardRef","ref","input","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","useRef","form","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","console","log","min","max","step","defaultValue","MealItem","meal","description","AvailableMeals","fetchedMeals","setFetchedMeals","isLoading","setIsLoading","fetchError","setFetchError","fetchMeals","a","fetch","resp","ok","Error","json","data","Object","entries","key","values","mealsList","meals","MealsSummary","Meals","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","concat","splice","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","App","cartOpen","setCartOpen","createRoot","render"],"mappings":"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","file":"static/js/main.d440e2f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__2pjQw\",\"total\":\"Cart_total__3pLin\",\"actions\":\"Cart_actions__1GOmr\",\"button--alt\":\"Cart_button--alt__1Z2QQ\",\"button\":\"Cart_button__fw1-t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__1B1_q\",\"summary\":\"CartItem_summary__3FMDj\",\"price\":\"CartItem_price__2Nl0j\",\"amount\":\"CartItem_amount__jUKEC\",\"actions\":\"CartItem_actions__UwVPJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__3CMOT\",\"icon\":\"HeaderCartButton_icon__9KWtg\",\"badge\":\"HeaderCartButton_badge__1Z3gL\",\"bump\":\"HeaderCartButton_bump__3atD4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__2uJ70\",\"description\":\"MealItem_description__2YINS\",\"price\":\"MealItem_price__3sNYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1mfF6\",\"modal\":\"Modal_modal__4DXUe\",\"slide-down\":\"Modal_slide-down__W3MdX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__zSTUo\",\"main-image\":\"Header_main-image__2Q3So\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1m44e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__2swPp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__32qVd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__2ZLCP\",\"meals-appear\":\"AvailableMeals_meals-appear__ONwLi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__22zUX\"};","import React from \"react\";\n\nconst CartContext = React.createContext({\n  items: [],\n  totalAmount: 0,\n  addItem: (item) => {},\n  removeItem: (id) => {},\n});\n\nexport default CartContext;\n","import React from \"react\";\n\nconst GlobalContext = React.createContext({\n  showCart: () => {},\n  hideCart: () => {},\n});\n\nexport default GlobalContext;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport classes from \"./Modal.module.css\";\n\nfunction Backdrop(props) {\n  return <div className={classes.backdrop} onClick={props.onClose} />;\n}\n\nfunction ModalOverlay(props) {\n  return <div className={classes.modal}>{props.children}</div>;\n}\n\nconst portalElement = document.getElementById(\"overlays\");\n\nfunction Modal(props) {\n  return (\n    <>\n      {ReactDOM.createPortal(\n        <Backdrop onClose={props.onClose} />,\n        portalElement\n      )}\n      {ReactDOM.createPortal(\n        <ModalOverlay>{props.children}</ModalOverlay>,\n        portalElement\n      )}\n    </>\n  );\n}\n\nexport default Modal;\n","import classes from \"./CartItem.module.css\";\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes[\"cart-item\"]}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import classes from \"./Checkout.module.css\";\n\nfunction Checkout(props) {\n  const onSubmitHandler = (event) => {\n    event.preventDefault();\n  };\n\n  return (\n    <form onSubmit={onSubmitHandler}>\n      <div className={classes.control}>\n        <label htmlFor=\"name\">Your Name</label>\n        <input type=\"text\" id=\"name\" />\n      </div>\n      <div className={classes.control}>\n        <label htmlFor=\"street\">Street</label>\n        <input type=\"text\" id=\"street\" />\n      </div>\n      <div className={classes.control}>\n        <label htmlFor=\"postal\">Your Name</label>\n        <input type=\"text\" id=\"postak\" />\n      </div>\n      <div className={classes.control}>\n        <label htmlFor=\"city\">City</label>\n        <input type=\"text\" id=\"city\" />\n      </div>\n      <button onClick={props.onCancel} type=\"button\">\n        Cancel\n      </button>\n      &nbsp;\n      <button type=\"submit\">Confirm</button>\n    </form>\n  );\n}\n\nexport default Checkout;\n","import React, { useContext, useState } from \"react\";\nimport CartContext from \"../../store/cart-context\";\nimport GlobalContext from \"../../store/GlobalContext\";\n\nimport Modal from \"../UI/Modal\";\nimport classes from \"./Cart.module.css\";\nimport CartItem from \"./CartItem\";\nimport Checkout from \"./Checkout\";\n\nfunction Cart() {\n  const ctx = useContext(GlobalContext);\n  const cartCtx = useContext(CartContext);\n\n  const cartItemRemoveHandler = (id) => cartCtx.removeItem(id);\n  const cartItemAddHandler = (item) => cartCtx.addItem(item);\n\n  const cartItems = (\n    <ul className={classes[\"cart-items\"]}>\n      {cartCtx.items.map((item) => (\n        <CartItem\n          key={item.id}\n          name={item.name}\n          amount={item.amount}\n          price={item.price}\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\n          onAdd={cartItemAddHandler.bind(null, item)}\n        />\n      ))}\n    </ul>\n  );\n\n  const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\n  const hasItems = cartCtx.items.length > 0;\n\n  const [showCheckout, setShowCheckout] = useState(false);\n\n  const orderHandler = () => {\n    setShowCheckout(true);\n  };\n\n  return (\n    <Modal onClose={ctx.hideCart}>\n      {cartItems}\n      <div className={classes.total}>\n        <span>Total Amount</span>\n        <span>{totalAmount}</span>\n      </div>\n      {showCheckout ? (\n        <Checkout onCancel={ctx.hideCart} />\n      ) : (\n        <div className={classes.actions}>\n          <button className={classes[\"button--alt\"]} onClick={ctx.hideCart}>\n            Close\n          </button>\n          {hasItems && (\n            <button className={classes.button} onClick={orderHandler}>\n              Order\n            </button>\n          )}\n        </div>\n      )}\n    </Modal>\n  );\n}\n\nexport default Cart;\n","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","const CartIcon = () => {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      viewBox='0 0 20 20'\n      fill='currentColor'\n    >\n      <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\n    </svg>\n  );\n};\n\nexport default CartIcon;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport classes from \"./HeaderCartButton.module.css\";\nimport CartIcon from \"../Cart/CartIcon\";\nimport GlobalContext from \"../../store/GlobalContext\";\nimport CartContext from \"../../store/cart-context\";\n\nfunction HeaderCartButton(props) {\n  const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\n\n  const ctx = useContext(GlobalContext);\n  const cartCtx = useContext(CartContext);\n\n  const { items } = cartCtx;\n\n  const numberOfItems = items.reduce(\n    (finalVal, item) => finalVal + item.amount,\n    0\n  );\n\n  const btnClasses = `${classes.button} ${\n    btnIsHighlighted ? classes.bump : \"\"\n  }`;\n\n  useEffect(() => {\n    if (items.length === 0) return;\n    setBtnIsHighlighted(true);\n    const timer = setTimeout(() => {\n      setBtnIsHighlighted(false);\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [items]);\n\n  return (\n    <button className={btnClasses} onClick={ctx.showCart}>\n      <span>\n        <CartIcon />\n      </span>\n      <span>Your Cart</span>\n      <span className={classes.badge}>{numberOfItems}</span>\n    </button>\n  );\n}\n\nexport default HeaderCartButton;\n","import React from \"react\";\n\nimport mealsImage from \"../../assets/meals.jpg\";\nimport classes from \"./Header.module.css\";\n\nimport HeaderCartButton from \"./HeaderCartButton\";\n\nfunction Header(props) {\n  return (\n    <>\n      <header className={classes.header}>\n        <h1>ReactMeals</h1>\n        <HeaderCartButton />\n      </header>\n      <div>\n        <img src={mealsImage} alt=\"A table full of delicious food!\" />\n      </div>\n    </>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nimport classes from \"./Card.module.css\";\n\nfunction Card(props) {\n  return <div className={classes.card}>{props.children}</div>;\n}\n\nexport default Card;\n","import React from \"react\";\n\nimport classes from \"./Input.module.css\";\n\nconst Input = React.forwardRef((props, ref) => {\n  return (\n    <div className={classes.input}>\n      <label htmlFor={props.input.id}>{props.label}</label>\n      <input id={props.input.id} {...props.input} ref={ref} />\n    </div>\n  );\n});\n\nexport default Input;\n","import React, { useRef, useState } from \"react\";\nimport Input from \"../../UI/Input\";\n\nimport classes from \"./MealItemForm.module.css\";\n\nfunction MealItemForm(props) {\n  const [amountIsValid, setAmountIsValid] = useState(true);\n\n  const amountInputRef = useRef();\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredAmount = amountInputRef.current.value;\n    const enteredAmountNumber = +enteredAmount;\n\n    if (\n      enteredAmount.trim().length === 0 ||\n      enteredAmount < 1 ||\n      enteredAmountNumber > 5\n    )\n      setAmountIsValid(false);\n    else {\n      props.onAddToCart(enteredAmountNumber);\n      console.log(enteredAmount);\n      if (!amountIsValid) setAmountIsValid(true);\n    }\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitHandler}>\n      <Input\n        ref={amountInputRef}\n        label=\"Amount\"\n        input={{\n          // props for HTML input\n          id: \"amount_\" + props.id,\n          type: \"number\",\n          min: \"1\",\n          max: \"5\",\n          step: \"1\",\n          defaultValue: \"1\",\n        }}\n      />\n      <button>+ Add</button>\n      {!amountIsValid && <p>Please entered a valid amount (1-5).</p>}\n    </form>\n  );\n}\n\nexport default MealItemForm;\n","import React, { useContext } from \"react\";\nimport CartContext from \"../../../store/cart-context\";\n\nimport classes from \"./MealItem.module.css\";\n\nimport MealItemForm from \"./MealItemForm\";\n\nfunction MealItem(props) {\n  const cartCtx = useContext(CartContext);\n\n  const price = `$${props.price.toFixed(2)}`;\n\n  const addItemToCartHandler = (amount) => {\n    cartCtx.addItem({\n      id: props.id,\n      name: props.name,\n      amount: amount,\n      price: props.price,\n    });\n  };\n\n  return (\n    <li className={classes.meal}>\n      <div>\n        <h3>{props.name}</h3>\n        <div className={classes.description}>{props.description}</div>\n        <div className={classes.price}>{price}</div>\n      </div>\n      <div>\n        <MealItemForm id={props.id} onAddToCart={addItemToCartHandler} />\n      </div>\n    </li>\n  );\n}\n\nexport default MealItem;\n","import React, { useEffect, useState } from \"react\";\n\nimport Card from \"../UI/Card\";\nimport MealItem from \"./MealItem/MealItem\";\n\nimport classes from \"./AvailableMeals.module.css\";\n\n// Fetching meals from the server, so this list is not needed\n// const DUMMY_MEALS = [\n//   {\n//     id: \"m1\",\n//     name: \"Sushi\",\n//     description: \"Finest fish and veggies\",\n//     price: 22.99,\n//   },\n//   {\n//     id: \"m2\",\n//     name: \"Schnitzel\",\n//     description: \"A german specialty!\",\n//     price: 16.5,\n//   },\n//   {\n//     id: \"m3\",\n//     name: \"Barbecue Burger\",\n//     description: \"American, raw, meaty\",\n//     price: 12.99,\n//   },\n//   {\n//     id: \"m4\",\n//     name: \"Green Bowl\",\n//     description: \"Healthy...and green...\",\n//     price: 18.99,\n//   },\n// ];\n\nfunction AvailableMeals() {\n  const [fetchedMeals, setFetchedMeals] = useState([]);\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [fetchError, setFetchError] = useState(null);\n\n  const fetchMeals = async () => {\n    setIsLoading(true);\n    try {\n      const resp = await fetch(\n        \"https://react-http-88257-default-rtdb.asia-southeast1.firebasedatabase.app/meals.json\"\n      );\n\n      if (!resp.ok) throw new Error(\"Empty response\");\n\n      const data = await resp.json();\n\n      setFetchedMeals(\n        Object.entries(data).map(([key, values]) => {\n          return { ...values, id: key };\n        })\n      );\n    } catch (error) {\n      setFetchError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchMeals();\n  }, []);\n\n  const mealsList = fetchedMeals.map((meal) => (\n    <MealItem\n      id={meal.id}\n      key={meal.id}\n      name={meal.name}\n      price={meal.price}\n      description={meal.description}\n    />\n  ));\n\n  return (\n    <section className={classes.meals}>\n      {!(isLoading || fetchError) && (\n        <Card>\n          <ul>{mealsList}</ul>\n        </Card>\n      )}\n      {isLoading && <p>Loading...</p>}\n      {fetchError && <p>{`${fetchError}`}</p>}\n    </section>\n  );\n}\nexport default AvailableMeals;\n","import React from \"react\";\n\nimport classes from \"./MealsSummary.module.css\";\n\nfunction MealsSummary() {\n  return (\n    <section className={classes.summary}>\n      <h2>Delicious Food, Delivered To You</h2>\n      <p>\n        Choose your favorite meal from our broad selection of available meals\n        and enjoy a delicious lunch or dinner at home.\n      </p>\n      <p>\n        All our meals are cooked with high-quality ingredients, just-in-time and\n        of course by experienced chefs!\n      </p>\n    </section>\n  );\n}\n\nexport default MealsSummary;\n","import React from \"react\";\n\nimport AvailableMeals from \"./AvailableMeals\";\nimport MealsSummary from \"./MealsSummary\";\n\nfunction Meals() {\n  return (\n    <>\n      <MealsSummary />\n      <AvailableMeals />\n    </>\n  );\n}\n\nexport default Meals;\n","import React, { useReducer } from \"react\";\nimport CartContext from \"./cart-context\";\n\nconst defaultCartState = { items: [], totalAmount: 0 };\n\nfunction cartReducer(state, action) {\n  switch (action.type) {\n    case \"ADD\": {\n      const updatedTotalAmount =\n        state.totalAmount + action.item.price * action.item.amount;\n\n      // if an item already exists, increase it's amount by 1\n      const existingCartItemIndex = state.items.findIndex(\n        (item) => item.id === action.item.id\n      );\n\n      let updatedItems;\n      if (existingCartItemIndex === -1) {\n        updatedItems = state.items.concat(action.item);\n      } else {\n        state.items[existingCartItemIndex].amount += action.item.amount;\n        updatedItems = state.items;\n      }\n\n      return { items: updatedItems, totalAmount: updatedTotalAmount };\n    }\n    case \"REMOVE\": {\n      // if an item already exists, decrease it's amount by 1. If it's 1 already, remove it from the items\n      const existingCartItemIndex = state.items.findIndex(\n        (item) => item.id === action.id\n      );\n\n      const updatedTotalAmount =\n        state.totalAmount - state.items[existingCartItemIndex].price;\n      if (state.items[existingCartItemIndex].amount > 1) {\n        state.items[existingCartItemIndex].amount--;\n      } else {\n        // there's only 1 item left\n        state.items.splice(existingCartItemIndex, 1);\n      }\n\n      return { items: state.items, totalAmount: updatedTotalAmount };\n    }\n\n    default:\n      return defaultCartState;\n  }\n}\n\nfunction CartProvider(props) {\n  const [cartState, dispatchCartAction] = useReducer(\n    cartReducer,\n    defaultCartState\n  );\n\n  const addItemToCartHandler = (item) =>\n    dispatchCartAction({ type: \"ADD\", item: item });\n\n  const removeItemFromCartHandler = (id) =>\n    dispatchCartAction({ type: \"REMOVE\", id: id });\n\n  const cartContext = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler,\n  };\n\n  return (\n    <CartContext.Provider value={cartContext}>\n      {props.children}\n    </CartContext.Provider>\n  );\n}\n\nexport default CartProvider;\n","import React, { useState } from \"react\";\nimport Cart from \"./components/Cart/Cart\";\n\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\n\nimport CartProvider from \"./store/CartProvider\";\nimport GlobalContext from \"./store/GlobalContext\";\n\nfunction App() {\n  const [cartOpen, setCartOpen] = useState(false);\n\n  const showCart = () => setCartOpen(true);\n  const hideCart = () => setCartOpen(false);\n\n  return (\n    <GlobalContext.Provider value={{ showCart, hideCart }}>\n      <CartProvider>\n        {cartOpen && <Cart />}\n        <Header />\n        <main>\n          <Meals />\n        </main>\n      </CartProvider>\n    </GlobalContext.Provider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n"],"sourceRoot":""}